# Правила и договорённости

## Формат и структура
- Все файлы храним в UTF-8 без BOM.
- Базовая структура каталогов: `src/`, `tests/`, `docs/`, `tools/`.
- Комментарии и документацию пишем на русском языке.
- Интерфейсы складывать в папку Abstractions, с неймспейсом AutocadMcpPlugin.
- Классы моделей складывать в папку Models, с неймспейсом AutocadMcpPlugin
- При работе с файлами всегда сохраняем в UTF-8 без BOM; не использовать команды, которые могут перекодировать текст (лучше `apply_patch` или явный `UTF8Encoding(false)`).

## Работа с зависимостями и сборкой
- Бинарные зависимости подключаем через NuGet; при необходимости фиксируем версии в `Directory.Packages.props`.
- AutoCAD SDK подключаем из официальных пакетов (`AutoCAD2019.Base` и др.), не добавляем ссылки на локальные DLL.

## Стиль кода
- Предпочитаем лаконичный стиль: expression-bodied члены, `var`, using-declarations, когда это делает код понятнее.
- Однострочные `if`/`return` без фигурных скобок допустимы при очевидной логике.
- Приватные поля именуем с префиксом `_name`.
- Используем `readonly`, неизменяемые коллекции и явные комментарии для сложной логики.

## Общие договорённости
- Перед выкладкой выполняем `dotnet build`.
- Изменения сопровождаем заметками в `docs/` и примерами использования.
- Коммиты атомарные с префиксом `[Feature]`, `[Fix]`, `[Docs]`.